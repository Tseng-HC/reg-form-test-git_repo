# 本機測試說明

## ❌ 為什麼直接開啟 HTML 會失敗？

當您直接雙擊開啟 `form-template.html` 時，瀏覽器使用 `file://` 協議，這會導致：
- ❌ 無法使用 `fetch()` 載入 JSON 檔案
- ❌ CORS 安全限制
- ❌ 顯示「載入失敗」錯誤

## ✅ 正確的測試方式

您需要使用**本機伺服器**來測試表單。

---

### 使用 VS Code 的 Live Server（推薦）

#### 安裝步驟：
1. 開啟 VS Code
2. 按 `Ctrl+Shift+X` 開啟擴充功能面板
3. 搜尋「**Live Server**」
4. 點擊「安裝」（Install）

#### 使用步驟：
1. 在 VS Code 中開啟 `template-system` 資料夾
2. 開啟 `form-template.html` 檔案
3. 在檔案上按右鍵
4. 選擇「**Open with Live Server**」
5. 瀏覽器會自動開啟，網址類似：
   ```
   http://127.0.0.1:5500/form-template.html
   ```

#### 測試不同配置：
在網址後面加上 `?config=配置檔名`：

```
http://127.0.0.1:5500/form-template.html?config=example-health-lecture
http://127.0.0.1:5500/form-template.html?config=event_2026_02
```

#### 停止伺服器：
- 點擊 VS Code 右下角的「Port: 5500」
- 或按 `Alt+L Alt+C`

---

### 其他方法（進階）

如果您不想使用 Live Server，也可以：

1. **使用 Node.js 的 http-server**
   ```powershell
   npm install -g http-server
   cd template-system
   http-server
   ```
   然後開啟 `http://localhost:8080/form-template.html`

2. **部署到 GitHub Pages**
   - 直接推送到 GitHub
   - 啟用 GitHub Pages
   - 使用線上網址測試

---

## 🔍 測試檢查清單

### 1. 確認檔案位置
```
template-system/
├── form-template.html
├── configs/
│   └── form-renderer.js
└── configs-export/
    ├── example-health-lecture.json
    └── event_2026_02.json
```

### 2. 確認網址格式
```
✅ http://localhost:8000/form-template.html?config=example-health-lecture
❌ file:///C:/Users/.../form-template.html?config=example-health-lecture
```

### 3. 開啟瀏覽器開發者工具（F12）
- 查看 Console 標籤是否有錯誤訊息
- 查看 Network 標籤確認 JSON 檔案是否成功載入

---

## 🎯 快速測試步驟

### 使用 Live Server（最簡單）：

1. **安裝 Live Server**
   - 在 VS Code 中按 `Ctrl+Shift+X`
   - 搜尋「Live Server」
   - 點擊安裝

2. **啟動伺服器**
   - 開啟 `form-template.html`
   - 按右鍵選擇「Open with Live Server」

3. **測試配置**
   - 在網址後面加上 `?config=example-health-lecture`
   - 應該會看到健康講座的表單

---

## ❓ 常見問題

### Q: 為什麼編輯器可以直接開啟？
**A:** 編輯器（config-editor.html）在預覽時使用 localStorage，不需要 fetch JSON 檔案，所以可以直接開啟。

### Q: 部署到伺服器後會有問題嗎？
**A:** 不會！部署到 GitHub Pages 或其他伺服器後，使用 http:// 或 https:// 協議，fetch 會正常運作。

### Q: 可以不用本機伺服器嗎？
**A:** 不行。現代瀏覽器的安全限制要求使用 http(s):// 協議才能 fetch 檔案。

---

## 📝 總結

**本機測試必須使用本機伺服器**

推薦順序：
1. ⭐⭐⭐ VS Code Live Server（最簡單）
2. ⭐⭐ Python http.server（內建，不需安裝）
3. ⭐ Node.js http-server（需要安裝）

**部署到線上後就沒有這個問題了！**
